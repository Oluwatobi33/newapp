{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="{% block meta_description %}Your default site description{% endblock %}">
        <meta name="keywords" content="{% block meta_keywords %}default,keywords{% endblock %}">
        <meta name="author" content="Your Site Name">
        
        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website">
        <meta property="og:url" content="{{ request.build_absolute_uri }}">
        <meta property="og:title" content="{% block og_title %}{% endblock %}">
        <meta property="og:description" content="{% block og_description %}{% endblock %}">
        <meta property="og:image" content="{% block og_image %}{% static 'images/default-social.jpg' %}{% endblock %}">
        
        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image">
        <meta property="twitter:url" content="{{ request.build_absolute_uri }}">
        <meta property="twitter:title" content="{% block twitter_title %}{% endblock %}">
        <meta property="twitter:description" content="{% block twitter_description %}{% endblock %}">
        <meta property="twitter:image" content="{% block twitter_image %}{% static 'images/default-social.jpg' %}{% endblock %}">
        
        <title>{% block title %}Your Site Title{% endblock %}</title>
        <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
        rel="stylesheet"
      />
      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
      />
        <!-- Your other head elements -->
    </head>
    <style>
      :root {
        --primary-color: #0d6efd;
        --secondary-color: #6c757d;
        --light-bg: #f8f9fa;
        --dark-text: #212529;
        --border-color: #dee2e6;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        color: var(--dark-text);
        background-color: #fff;
      }

      .navbar-brand {
        font-weight: 700;
        font-size: 1.8rem;
      }

      .hero-section {
        background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
          url("https://images.unsplash.com/photo-1499951360447-b19be8fe80f5?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80")
            center/cover;
        color: white;
        padding: 100px 0;
        margin-bottom: 40px;
      }

      .featured-post {
        position: relative;
        height: 400px;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }

      .featured-post img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
      }

      .featured-post:hover img {
        transform: scale(1.05);
      }

      .featured-content {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
        color: white;
        padding: 30px;
      }

      .post-card {
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        margin-bottom: 30px;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        height: 100%;
      }

      .post-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
      }

      .post-card img {
        width: 100%;
        height: 200px;
        object-fit: cover;
      }

      .post-content {
        padding: 20px;
      }

      .category-tag {
        position: absolute;
        top: 15px;
        right: 15px;
        background: var(--primary-color);
        color: white;
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
      }

      .category-nav {
        background-color: var(--light-bg);
        padding: 15px 0;
        margin-bottom: 40px;
        border-bottom: 1px solid var(--border-color);
      }

      .category-nav .nav-link {
        color: var(--secondary-color);
        font-weight: 600;
        padding: 8px 15px;
        border-radius: 20px;
        margin: 0 5px;
      }

      .category-nav .nav-link.active,
      .category-nav .nav-link:hover {
        background-color: var(--primary-color);
        color: white;
      }

      .sidebar-widget {
        background: var(--light-bg);
        border-radius: 10px;
        padding: 25px;
        margin-bottom: 30px;
      }

      .widget-title {
        position: relative;
        padding-bottom: 15px;
        margin-bottom: 20px;
        font-weight: 700;
      }

      .widget-title:after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 50px;
        height: 3px;
        background: var(--primary-color);
      }

      .popular-post {
        display: flex;
        margin-bottom: 15px;
        padding-bottom: 15px;
        border-bottom: 1px solid var(--border-color);
      }

      .popular-post:last-child {
        border-bottom: none;
        margin-bottom: 0;
        padding-bottom: 0;
      }

      .popular-post img {
        width: 80px;
        height: 80px;
        object-fit: cover;
        border-radius: 5px;
        margin-right: 15px;
      }

      .popular-post-content {
        flex: 1;
      }

      .newsletter-form .form-control {
        border-radius: 30px 0 0 30px;
      }

      .newsletter-form .btn {
        border-radius: 0 30px 30px 0;
      }

      .footer {
        background: var(--dark-text);
        color: white;
        padding: 60px 0 30px;
        margin-top: 60px;
      }

      .social-icons a {
        display: inline-block;
        width: 40px;
        height: 40px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        text-align: center;
        line-height: 40px;
        margin-right: 10px;
        color: white;
        transition: all 0.3s ease;
      }

      .social-icons a:hover {
        background: var(--primary-color);
        transform: translateY(-5px);
      }

      .copyright {
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        padding-top: 20px;
        margin-top: 30px;
      }

      @media (max-width: 768px) {
        .hero-section {
          padding: 60px 0;
        }

        .featured-post {
          height: 300px;
        }

        .category-nav .nav-item {
          margin-bottom: 10px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white py-3 shadow-sm">
      <div class="container">
        <a class="navbar-brand" href="{% url 'index' %}">
          <i class="bi bi-pencil-square me-2"></i>TechInsights
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link active" href="{% url 'index' %}">Home</a>
            </li>
            {% for category in categories|slice:":6" %}
            <li class="nav-item">
              <a
                class="nav-link"
                href="{% url 'category_posts' category.slug %}"
              >
                {{ category.name }}
              </a>
            </li>
            {% endfor %} {% comment %}
            <li class="nav-item">
              <a class="nav-link" href="#">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Contact</a>
            </li>
            {% endcomment %}
          </ul>
          <form class="d-flex ms-3" action="{% url 'search' %}" method="GET">
            <input
              class="form-control me-2"
              type="search"
              placeholder="Search"
              name="q"
            />
            <button class="btn btn-outline-primary" type="submit">
              <i class="bi bi-search"></i>
            </button>
          </form>

          {% comment %}
          <div class="container mt-5">
            {% if page_obj.object_list %}
            <div class="row">
              {% for post in page_obj.object_list %}
              <div class="col-md-6 mb-4">
                <div class="post-card">
                  {% if post.featured_image %}
                  <img
                    src="{{ post.featured_image.url }}"
                    alt="{{ post.title }}"
                  />
                  {% else %}
                  <img
                    src="{% static 'images/default-thumbnail.jpg' %}"
                    alt="Default image"
                  />
                  {% endif %}
                  <div class="post-content">
                    <h3><a href="{{ post.title }}">{{ post.title }}</a></h3>
                    <p>{{ post.summary }}</p>
                  </div>
                </div>
              </div>
              {% endfor %}
            </div>

            <!-- Pagination -->
            {% comment %} {% include 'pagination.html' %} {% endcomment %} {%
            comment %} {% else %}
            <div class="alert alert-info">
              No results found for "{{ query }}"
            </div>
            {% endif %}
          </div>
          {% endcomment %}
        </div>
      </div>
    </nav>

        <!-- Hero Section -->
        {% if featured_post %}
        <section class="hero-section">
          <div class="container text-center">
            <h1 class="display-4 fw-bold mb-4">{{ featured_post.title }}</h1>
            <p class="lead mb-5">{{ featured_post.summary }}</p>
            <a
              href="{{ featured_post.get_absolute_url }}"
              class="btn btn-primary btn-lg px-4 py-2"
              >Read Article</a
            >
          </div>
        </section>
        {% endif %}
    
        <!-- Category Navigation -->
        <div class="category-nav">
          <div class="container">
            <ul class="nav justify-content-center flex-wrap">
              <li class="nav-item">
                <a class="nav-link active" href="{% url 'index' %}">All</a>
              </li>
              {% for category in categories %}
              <li class="nav-item">
                <a class="nav-link" href="{% url 'category_posts' category.slug %}">
                  {{ category.name }} ({{ category.post_count }})
                </a>
              </li>
              {% endfor %}
            </ul>
          </div>
        </div>
    
        <!-- Search Form -->
        <div class="container my-4">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <form class="d-flex" action="{% url 'search' %}" method="GET">
                        <input class="form-control me-2" type="search" placeholder="Search posts..." name="q">
                        <button class="btn btn-outline-primary" type="submit">
                            <i class="bi bi-search"></i> Search
                        </button>
                    </form>
                </div>
            </div>
        </div>
    
        <!-- Main Content -->
        <div class="container">
          <div class="row">
            <!-- Featured Post -->
            <div class="col-lg-8 mb-5">
              {% if featured_post %}
              <div class="featured-post">
                {% if featured_post.featured_image %}
                <img
                  src="{{ featured_post.featured_image.url }}"
                  alt="{{ featured_post.title }}"
                  class="img-fluid"
                />
                {% else %}
                <img
                  src="{% static 'images/default-featured.jpg' %}"
                  alt="Default image"
                  class="img-fluid"
                />
                {% endif %}
                <div class="category-tag">{{ featured_post.category.name }}</div>
                <div class="featured-content">
                  <span class="badge bg-primary mb-2">Featured</span>
                  <h2 class="h3">{{ featured_post.title }}</h2>
                  <p>{{ featured_post.summary }}</p>
                  <div class="d-flex align-items-center">
                    {% if featured_post.author.profile_picture %}
                    <img
                      src="{{ featured_post.author.profile_picture.url }}"
                      class="rounded-circle me-2"
                      width="30"
                      alt="Author"
                    />
                    {% else %}
                    <i class="bi bi-person-circle me-2"></i>
                    {% endif %}
                    <span class="me-3"
                      >{{ featured_post.author.get_full_name }}</span
                    >
                    <span
                      ><i class="bi bi-clock me-1"></i> 
                      {% if featured_post.published_at.date == today %}
                        Today
                      {% else %}
                        {{ featured_post.published_at|date:"F j, Y" }}
                      {% endif %}
                    </span>
                  </div>
                </div>
              </div>
              {% endif %}
    
              <!-- Blog Posts -->
              <div class="row">
                {% for post in page_obj %}
                <div class="col-md-6 mb-4">
                  <div class="post-card h-100">
                    {% if post.featured_image %}
                    <img
                      src="{{ post.featured_image.url }}"
                      alt="{{ post.title }}"
                      class="img-fluid"
                    />
                    {% else %}
                    <img
                      src="{% static 'images/default-thumbnail.jpg' %}"
                      alt="Default image"
                      class="img-fluid"
                    />
                    {% endif %}
                    <div class="category-tag">{{ post.category.name }}</div>
                    <div class="post-content">
                      <h3 class="h5">{{ post.title }}</h3>
                      <p>{{ post.summary|truncatechars:150 }}</p>
                      <div
                        class="d-flex justify-content-between align-items-center mt-3"
                      >
                        <div class="d-flex align-items-center">
                          {% if post.author.profile_picture %}
                          <img
                            src="{{ post.author.profile_picture.url }}"
                            class="rounded-circle me-2"
                            width="24"
                            alt="Author"
                          />
                          {% else %}
                          <i class="bi bi-person-circle me-2"></i>
                          {% endif %}
                          <span>{{ post.author.get_full_name }}</span>
                        </div>
                        <span class="text-muted small">
                          {% if post.published_at.date == today %}
                            Today
                          {% else %}
                            {{ post.published_at|date:"F j, Y" }}
                          {% endif %}
                        </span>
                      </div>
                      <a href="{{ post.get_absolute_url }}" class="btn btn-sm btn-outline-primary mt-2">Read More</a>
                    </div>
                  </div>
                </div>
                {% empty %}
                <div class="col-12">
                  <div class="alert alert-info text-center">
                    No published posts yet. Check back later!
                  </div>
                </div>
                {% endfor %}
              </div>
    
              <!-- Pagination -->
              {% include 'pagination.html' %}
            </div>
    
            <!-- Sidebar -->
            <div class="col-lg-4">
              <!-- Popular Posts -->
              <div class="sidebar-widget mb-4">
                <h4 class="widget-title">Trending Posts</h4>
                {% for post in popular_posts %}
                <div class="popular-post mb-3">
                  <div class="row g-0">
                    <div class="col-4">
                      {% if post.featured_image %}
                      <img src="{{ post.featured_image.url }}" alt="{{ post.title }}" class="img-fluid rounded">
                      {% else %}
                      <img src="{% static 'images/default-thumbnail.jpg' %}" alt="Default image" class="img-fluid rounded">
                      {% endif %}
                    </div>
                    <div class="col-8 ps-2">
                      <a href="{{ post.get_absolute_url }}" class="text-decoration-none">
                        <h6 class="mb-1">{{ post.title|truncatechars:50 }}</h6>
                      </a>
                      <div class="text-muted small">
                        <i class="bi bi-calendar me-1"></i>
                        {{ post.published_at|date:"M d, Y" }}
                      </div>
                    </div>
                  </div>
                </div>
                {% endfor %}
              </div>
    
              <!-- Categories -->
              <div class="sidebar-widget mb-4">
                <h4 class="widget-title">Categories</h4>
                <ul class="list-group list-group-flush">
                  {% for category in categories %}
                  <li class="list-group-item d-flex justify-content-between align-items-center">
                    <a href="{% url 'category_posts' category.slug %}" class="text-decoration-none">
                      {{ category.name }}
                    </a>
                    <span class="badge bg-primary rounded-pill">{{ category.post_count }}</span>
                  </li>
                  {% endfor %}
                </ul>
              </div>
    
              <!-- Newsletter -->
              <div class="sidebar-widget">
                <h4 class="widget-title">Newsletter</h4>
                <p class="mb-3">Subscribe to get the latest posts directly in your inbox.</p>
                <form class="newsletter-form">
                  <div class="input-group mb-3">
                    <input
                      type="email"
                      class="form-control"
                      placeholder="Your Email"
                      aria-label="Your Email"
                    />
                    <button class="btn btn-primary" type="submit">
                      <i class="bi bi-envelope"></i> Subscribe
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="row">
          <div class="col-lg-4 mb-4">
            <h3 class="mb-4">Tech Insights</h3>
            <p>
              Providing cutting-edge technology insights, tutorials, and
              industry analysis for developers, IT professionals, and tech
              enthusiasts.
            </p>
            <div class="social-icons mt-4">
              <a href="#"><i class="bi bi-facebook"></i></a>
              <a href="#"><i class="bi bi-twitter"></i></a>
              <a href="#"><i class="bi bi-linkedin"></i></a>
              <a href="#"><i class="bi bi-instagram"></i></a>
              <a href="#"><i class="bi bi-youtube"></i></a>
            </div>
          </div>
          <div class="col-lg-2 col-md-4 mb-4">
            <h5 class="mb-4">Quick Links</h5>
            <ul class="list-unstyled">
              <li class="mb-2">
                <a
                  href="{% url 'index' %}"
                  class="text-white text-decoration-none"
                  >Home</a
                >
              </li>
              <li class="mb-2">
                <a href="#" class="text-white text-decoration-none">About</a>
              </li>
              <li class="mb-2">
                <a href="#" class="text-white text-decoration-none">Blog</a>
              </li>
              <li class="mb-2">
                <a href="#" class="text-white text-decoration-none"
                  >Categories</a
                >
              </li>
              <li class="mb-2">
                <a href="#" class="text-white text-decoration-none">Contact</a>
              </li>
            </ul>
          </div>
          <div class="col-lg-2 col-md-4 mb-4">
            <h5 class="mb-4">Categories</h5>
            <ul class="list-unstyled">
              {% for category in categories|slice:":5" %}
              <li class="mb-2">
                <a
                  href="{% url 'category_posts' category.slug %}"
                  class="text-white text-decoration-none"
                >
                  {{ category.name }}
                </a>
              </li>
              {% endfor %}
            </ul>
          </div>
          <div class="col-lg-4 col-md-4 mb-4">
            <h5 class="mb-4">Contact Us</h5>
            <ul class="list-unstyled">
              <li class="mb-2">
                <i class="bi bi-geo-alt me-2"></i> 123 Tech Street, San
                Francisco, CA
              </li>
              <li class="mb-2">
                <i class="bi bi-envelope me-2"></i> info@techinsights.com
              </li>
              <li class="mb-2">
                <i class="bi bi-telephone me-2"></i> +1 (555) 123-4567
              </li>
            </ul>
          </div>
        </div>
        <div class="copyright text-center">
          <p>&copy; {{ current_year }} Tech Insights. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>



